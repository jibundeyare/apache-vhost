<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body>
<h1>apache</h1>

<p>Ce tuto montre comment configurer apache et des noms de domaine locaux (<code>http://test.dev</code> par exemple).</p>

<p>Il s'applique à :</p>

<ul>
<li>wamp (windows)</li>
<li>mamp (macos)</li>
<li>xampp (macos)</li>
</ul>

<p>Notez que <strong>vhost = virtual host</strong></p>

<h2>1. configurez vos noms de domaine <small>(fichier <code>hosts</code>)</small></h2>

<h3>windows</h3>

<p>Éxécuter votre éditeur de code en tant qu'administrateur.</p>

<p>Ouvrez le fichier <code>C:\Windows\System32\drivers\etc\hosts</code>.</p>

<p>Ajoutez l'adresse ip et le nom de domaine suivants :</p>

<pre><code>127.0.0.1 test.dev
</code></pre>

<p>Créez-en d'autres si besoin.</p>

<p>Enregistrez et quittez votre éditeur de code.</p>

<h3>macos</h3>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez Finder.</p>

<p>Dans le menu de Finder, cliquez sur <code>Go -&gt; Go to folder</code> (<code>Aller -&gt; Aller dans le répertoire</code> en français).</p>

<p>Dans la boîte de dialogue, tapez <code>/etc/hosts</code> puis valider.</p>

<p>Finder affiche le fichier <code>/etc/hosts</code>.</p>

<p>Pour ouvrir le fichier <code>/etc/hosts</code>, faites un drag'n'drop dans votre éditeur de code ou un click droit puis <code>Open with</code> (<code>Ouvrir avec</code> en français).</p>

<p>Alternativement, vous pouvez utiliser le terminal pour ouvrir le fichier <code>/etc/hosts</code> avec atom (ou un autre éditeur de code) :</p>

<pre><code>open -a Atom /etc/hosts
</code></pre>

<p>Ajoutez l'adresse ip et le nom de domaine suivants :</p>

<pre><code>127.0.0.1 test.dev
</code></pre>

<p>Créez-en d'autres si besoin.</p>

<p>Enregistrez et tapez votre mot de passe.</p>

<h3>linux</h3>

<p>Ouvrez un terminal.</p>

<p>Tapez la commande suivante : <code>sudo nano /etc/hosts</code></p>

<p>Ajoutez l'adresse ip et le nom de domaine suivants :</p>

<pre><code>127.0.0.1 test.dev
</code></pre>

<p>Ajoutez-en d'autres si besoin.</p>

<p>Enregistrez et quittez <code>nano</code>.</p>

<p>Pour enregistrer, appuyez sur <code>CTRL + O</code> puis valider avec la touche <code>ENTER</code> (<code>ENTRÉE</code> en français).
Pour quitter, appuyez sur <code>CTRL + X</code>.</p>

<h2>2. configurez vos vhosts <small>(fichier <code>httpd-vhosts.conf</code>)</small></h2>

<p><strong>Attention</strong> : si vous utilisez wamp, votre installation est peut-être en 32 bit. Wamp se trouve alors dans <code>C:\wamp</code> et non <code>C:\wamp64</code>. Adaptez les instructions ci-dessous.</p>

<h3>2.1 activez les vhosts</h3>

<h4>wamp</h4>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier <code>C:\wamp64\bin\apache\apache2.4.9\conf\httpd.conf</code>.</p>

<p>Recherchez le mot clé <code>vhosts</code> et trouvez la ligne suivante :</p>

<pre><code>#Include conf/extra/httpd-vhosts.conf
</code></pre>

<p>Activez la ligne en supprimant le symbole dièse en début de ligne :</p>

<pre><code>Include conf/extra/httpd-vhosts.conf
</code></pre>

<h4>mamp</h4>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier le fichier <code>/Applications/MAMP/conf/apache/httpd.conf</code>.</p>

<p>Recherchez le mot clé <code>vhosts</code> et trouvez la ligne suivante :</p>

<pre><code>#Include /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf
</code></pre>

<p>Activez la ligne en supprimant le symbole dièse en début de ligne :</p>

<pre><code>Include /Applications/MAMP/conf/apache/extra/httpd-vhosts.conf
</code></pre>

<h4>xampp</h4>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier <code>/Applications/XAMPP/etc/httpd.conf</code>.</p>

<p>Recherchez le mot clé <code>vhosts</code> et trouvez la ligne suivante :</p>

<pre><code>#Include etc/extra/httpd-vhosts.conf
</code></pre>

<p>Activez la ligne en supprimant le symbole dièse en début de ligne :</p>

<pre><code>Include etc/extra/httpd-vhosts.conf
</code></pre>

<h3>2.2 sauvegardez les vhosts d'usine</h3>

<h4>wamp</h4>

<p>Ouvrez l'explorateur de fichier.</p>

<p>Trouvez le fichier :</p>

<pre><code>C:\wamp64\bin\apache\apache2.4.9\conf\extra\httpd-vhosts.conf
</code></pre>

<p>Renommer-le :</p>

<pre><code>C:\wamp64\bin\apache\apache2.4.9\conf\extra\httpd-vhosts.conf.original
</code></pre>

<h4>mamp</h4>

<p>Ouvrez Finder.</p>

<p>Trouvez le fichier :</p>

<pre><code>/Applications/MAMP/conf/apache/extra/httpd-vhosts.conf
</code></pre>

<p>Renommer-le :</p>

<pre><code>/Applications/MAMP/conf/apache/extra/httpd-vhosts.conf.original
</code></pre>

<h4>xampp</h4>

<p>Ouvrez Finder.</p>

<p>Trouvez le fichier :</p>

<pre><code>/Applications/XAMPP/etc/extra/httpd-vhosts.conf
</code></pre>

<p>Renommer-le :</p>

<pre><code>/Applications/XAMPP/etc/extra/httpd-vhosts.conf.original
</code></pre>

<h3>2.3 créez vos vhosts</h3>

<h4>wamp</h4>

<p>Copiez le fichier <code>wamp-httpd-vhosts.conf</code> dans le dossier <code>C:\wamp64\bin\apache\apache2.4.9\conf\extra\</code> et renommez-le <code>httpd-vhosts.conf</code>.</p>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier <code>httpd-vhosts.conf</code> et créez les vhosts qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>.
Dupliquez le bloc <code>test.dev</code> et adaptez-le à vos besoins.</p>

<h4>mamp</h4>

<p>Copiez le fichier <code>mamp-httpd-vhosts.conf</code> dans le dossier <code>/Applications/MAMP/conf/apache/extra/</code> et renommez-le <code>httpd-vhosts.conf</code>.</p>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier <code>httpd-vhosts.conf</code> et créez les vhosts qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>.
Dupliquez le bloc <code>test.dev</code> et adaptez-le à vos besoins.</p>

<h4>xampp</h4>

<p>Copiez le fichier <code>xampp-httpd-vhosts.conf</code> dans le dossier <code>/Applications/XAMPP/etc/extra/</code> et renommez-le <code>httpd-vhosts.conf</code>.</p>

<p>Ouvrez votre éditeur de code.</p>

<p>Ouvrez le fichier <code>httpd-vhosts.conf</code> et créez les vhosts qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>.
Dupliquez le bloc <code>test.dev</code> et adaptez-le à vos besoins.</p>

<h2>3. organisez votre dossier web</h2>

<h3>wamp</h3>

<p>Ouvrez l'explorateur de fichier.</p>

<p>Dans le dossier <code>C:\wamp64\www</code>, créez un dossier <code>default</code>. Déplacez-y tous les dossiers et fichiers présents dans <code>C:\wamp64\www</code>.</p>

<p>Dans le dossier <code>C:\wamp64\www</code>, créez un dossier <code>test.dev</code>. Dans le dossier <code>C:\wamp64\www\test.dev</code>, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<p>Dans le dossier <code>C:\wamp64\www</code>, créez les dossiers qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>. Dans chaque dossier, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<h3>mamp</h3>

<p>Ouvrez Finder.</p>

<p>Dans le dossier <code>/Applications/MAMP/htdocs</code>, créez un dossier <code>default</code>. Déplacez-y tous les dossiers et fichiers présents dans <code>/Applications/MAMP/htdocs</code>.</p>

<p>Dans le dossier <code>/Applications/MAMP/htdocs</code>, créez un dossier <code>test.dev</code>. Dans le dossier <code>/Applications/MAMP/htdocs/test.dev</code>, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<p>Dans le dossier <code>/Applications/MAMP/htdocs</code>, créez les dossiers qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>. Dans chaque dossier, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<h3>xampp</h3>

<p>Ouvrez Finder.</p>

<p>Dans le dossier <code>/Applications/XAMPP/htdocs</code>, créez un dossier <code>default</code>. Déplacez-y tous les dossiers et fichiers présents dans <code>/Applications/XAMPP/htdocs</code>.</p>

<p>Dans le dossier <code>/Applications/XAMPP/htdocs</code>, créez un dossier <code>test.dev</code>. Dans le dossier <code>/Applications/XAMPP/htdocs/test.dev</code>, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<p>Dans le dossier <code>/Applications/XAMPP/htdocs</code>, créez les dossiers qui correspondent aux noms de domaine que vous avez créé dans le fichier <code>hosts</code>. Dans chaque dossier, créez un fichier <code>index.html</code> avec un contenu simple (par exemple <code>domaine : test.dev</code>).</p>

<h2>4. testez</h2>

<p>Redémarrez apache.</p>

<p>Ouvrez votre navigateur web.</p>

<p>Ouvrez l'url <code>http://test.dev</code>. Le contenu simple du fichier <code>index.html</code> devrait s'afficher (par exemple <code>domaine : test.dev</code>).</p>

<h2>5. trouble shooting</h2>

<p>Vérifiez qu'il n'y a pas de coquille dans les noms de domaine que vous avez créé dans :</p>

<ul>
<li>le fichier <code>hosts</code></li>
<li>le fichier <code>httpd-vhosts.conf</code></li>
<li>les noms de dossiers</li>
</ul>

<p>Si vous avez défini un port autre que le port 80 pour apache, pensez à rajouter le port dans l'url (<code>http://test.dev:8000</code> par exemple).</p>

<p>Avec wamp, assurez-vous que tous les fichiers <code>dll</code> sont bien installés. La page <a href="http://wampserver.aviatechno.net/">http://wampserver.aviatechno.net/</a> permet de télécharger un fichier zip avec toutes les <code>dll</code> nécessaires (voir en bas de page).</p>

<h2>licence</h2>

<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/3.0/fr/88x31.png" /></a><br />Ce(tte) œuvre est mise à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/fr/">Licence Creative Commons Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 France</a>.</p>
  </body>
</html>
